\subsection{Unsupervised Clustering \label{sec:unsupervised_clustering}}

\subsubsection{Method}

The idea is to unsupervisely evaluate the agglomerative clustering at each number of clusters (at each merge step).
When discarding clustering with $N$ and clusters $1$, this produce $N - 2$ possible clusterings, each of those are evaluated using the mean Silhouette score.
See Definition~\ref{def:silhouette}.

\begin{definition}[Mean Silhouette score~\cite{sklearn}~\cite{wiki_silhouette}]
  \label{def:silhouette}
  The mean Silhouette score is an unsupervised clustering metric which evaluate a clustering result by measuring the cohesion and separation of the clusters.
  \begin{gather*}
    s = \frac{1}{|C|} \sum_{i = 0}^{|C|} \frac{b(i) - a(i)}{max(a(i), b(i))}
  \end{gather*}
  \begin{gather*}
    \begin{split}
      a(i)&: \text{mean intra-cluster distance} \\
      a(i)& = \frac{1}{|C_i| - 1} \sum_{j \in C_i, i\neq j} d(i, j) \\
      b(i)&: \text{mean nearest-cluster distance} \\
      b(i)& = \min_{k\neq i} \frac{1}{|C_k|} \sum_{j \in C_k} d(i, j) \\
    \end{split}
  \end{gather*}
  With $C$ the set of clusters, $C_i$ the i-th cluster, $d(i, j)$ the distance between the document i and j.
  $d(i, j)$ are pre-computed and used for the rank list.
  The value is ranged between -1 and 1, a large value indicate a good cohesion and good separation of the clusters (low intra-cluster distance, high nearest-cluster distance).
\end{definition}

The idea is to apply the hierarchical clustering at each possible number of clusters (from $N - 1$ to $2$), and compute the mean Silhouette score.
The best clustering is the one which have the largest mean Silhouette score.
An alternative to this method is the Iterative Positive Silhouette (IPS) and was proposed in Layton, Watters, Dazeley (2011)~\cite{automated_unsupervised}.

\subsubsection{Evaluation}

For this experiment, the goal is to test the unsupervised hierarchical clustering cut method based on the maximization of the mean silhouette score on the literature corpora.
The right number of cluster is not known.
When applying the procedure, the number of clusters start at 2 and end at the number of documents minus 1.
The best clustering according to this method is the one that yield the greatest mean silhouette score.

The rank list used for this experiment is the one from the retained text representation (9 for St-Jean and 7 for Brunet and Oxquarry), see Section~\ref{sec:annex_retained_text_representation} in annex.

The $B^3_{F_1}$ score and $r_{diff}$ average on the unsupervised clustering are presented in Table~\ref{tab:unsupervised_clustering}, the complete table is available in Table~\ref{tab:unsupervised_clustering_full} in annex.

The average r-ratio difference is positive value ranging between $\left[0.17, 0.22\right]$ depending on the linkage criterion.
Having a too large r-ratio indicate that estimated number of cluster is on every dataset overestimated.
This means that the mean neareast-cluster distance is greater than the mean intra-cluster distance even when dealing with the right number of clusters.
This can be due to the fact that the rank list used for the clustering is not perfect (AP $\neq 1$).

To mitigate this problem, an easy solution would be to use the labels produced by the clustering of a non-maximal value of the silhouette score on the left side of the maximal silhouette score.
In this study, we introduce a parameter called $\alpha$.
$\alpha$ represents a percentage of value to subtract to the maximal mean silhouette score to obtain the new target (instead of the maximal value).
The clustering with the silhouette score the closest to the target is retained.

The sign of the alpha indicate on the side of the maximal silhouette score the target should be.
With $\alpha = 0$, this corresponds to the maximal mean silhouette score.
With a negative $\alpha$ the left side is targeted and with a positive $\alpha$, the right side.

By using for example $\alpha = -0.2$, we aim to correct this overshoot.
This value was choosen using a grid search to optimize the $B^3_{F_1}$.

Table~\ref{tab:unsupervised_clustering_alpha} show the results with $\alpha = -0.2$, the complete table is available in Table~\ref{tab:unsupervised_clustering_alpha_full} in annex.
With this correction technique, in average the $r_{diff}$ is closer to 0 and the average $B^3_{F_1}$ is increased in average by 6\% across all the corpora.
The average linkage criterion give the best results for this clustering method, the $B^3_{F_1}$ is in average 2\% better with this method.

\begin{table}
  \centering
  \caption{Unsupervised clustering evaluation, $B^3_{F_1}$/$r_{diff}$}

  \label{tab:unsupervised_clustering}
  \subcaption{$\alpha = 0$}
  \resizebox{\linewidth}{!}{
  \begin{tabular}{l c c c}
    \toprule
           & \multicolumn{3}{c}{Linkage criterion} \\
    Corpus    & Single     & Average   & Complete \\
    \midrule
    Oxquarry  & 0.76/0.18 & 0.79/0.12 & 0.78/0.13 \\
    Brunet    & 0.69/0.28 & 0.71/0.26 & 0.73/0.23 \\
    St-Jean A & 0.59/0.33 & 0.64/0.24 & 0.61/0.26 \\
    St-Jean B & 0.91/0.08 & 0.91/0.06 & 0.90/0.06 \\
    \midrule
    Absolute mean & 0.74/0.22 & 0.76/0.17 & 0.75/0.17 \\
    \bottomrule
  \end{tabular}
  }

  \vspace{0.5cm}

  \label{tab:unsupervised_clustering_alpha}
  \subcaption{$\alpha = -0.2$}
  \resizebox{\linewidth}{!}{
  \begin{tabular}{l c c c}
    \toprule
           & \multicolumn{3}{c}{Linkage criterion} \\
    Corpus    & Single     & Average   & Complete \\
    \midrule
    Oxquarry  & 0.81/0.06 & 0.78/0.03 & 0.79/0.02 \\
    Brunet    & 0.78/0.10 & 0.80/0.09 & 0.80/0.10 \\
    St-Jean A & 0.70/0.14 & 0.77/0.08 & 0.76/0.09 \\
    St-Jean B & 0.86/0.02 & 0.87/0.03 & 0.86/0.03 \\
    \midrule
    Absolute mean & 0.79/0.08 & 0.81/0.06 & 0.80/0.06 \\
    \bottomrule
  \end{tabular}
  }

\end{table}
